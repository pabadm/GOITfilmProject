{"version":3,"sources":["webpack:///./templates/promo.hbs","webpack:///./scripts/apiCreator.js","webpack:///./scripts/showPromo.js","webpack:///./scripts/switcher.js","webpack:///./scripts/filmPopular.js","webpack:///./scripts/loadMore.js","webpack:///./scripts/filmSearcher.js","webpack:///./scripts/userFavorites.js","webpack:///./scripts/showModal.js","webpack:///./scripts/showFavorites.js","webpack:///./index.js","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","apiCreator","search","page","query","type","popular","image","link","w500","movie","id","apiData","showPromo","api","fetch","then","response","json","total_pages","results","undefined","refs","not_found_block","style","display","load_more_btn","forEach","film","filmData","filmImgLink","poster_path","filmVote","vote_average","filmTitle","title","filmId","name","films_block","insertAdjacentHTML","promo","film_promo","document","querySelectorAll","film_promo_btn","catch","err","console","log","typeOfFilm","filmPopular","event","loadMoreReset","film_search_form","firstElementChild","value","apiFunc","func","total_results","removeChild","searchQuery","favoriteMovies","favoriteShows","localStorage","getItem","split","closeModal","target","className","wrapper","modal_background","body","overflow","showModal","filmOverview","overview","filmGenres","genres","map","genre","join","genresWord","length","modal","modal_block","querySelector","add_to_favorites_btn","addEventListener","includes","splice","indexOf","push","setItem","textContent","showFavorites","moviesArr","home_btn","theme_toggle_btn","switch_btn","show_favorites_btn","filmSearcher","preventdefault","placeholder","alias3"],"mappings":"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","file":"main.010bbb03042b045cbeba.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"film_promo\\\">\\n        <img class=\\\"film_poster\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmImgLink\") || (depth0 != null ? lookupProperty(depth0,\"filmImgLink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmImgLink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":53}}}) : helper)))\n    + \"\\\" alt=\\\"No poster for this film\\\">\\n        <p class=\\\"film_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmTitle\") || (depth0 != null ? lookupProperty(depth0,\"filmTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":30},\"end\":{\"line\":3,\"column\":43}}}) : helper)))\n    + \"</p>\\n        <p class=\\\"film_vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmVote\") || (depth0 != null ? lookupProperty(depth0,\"filmVote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmVote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":29},\"end\":{\"line\":4,\"column\":41}}}) : helper)))\n    + \"</p>\\n        <button class=\\\"film_promo_btn\\\" id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmId\") || (depth0 != null ? lookupProperty(depth0,\"filmId\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmId\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":43},\"end\":{\"line\":5,\"column\":53}}}) : helper)))\n    + \"\\\"></button>\\n</div>\";\n},\"useData\":true});","'use strict';\n\n\n\n\n//создаватель api(объект с функциями)(каждая возвращает ссылку на api)\n//type - (тип) сериалы либо фильмы\nconst apiCreator = {\n  search: (page, query, type = 'movie') => {\n    return `https://api.themoviedb.org/3/search/${type}?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${page}&include_adult=false&query=${query}`;\n  },\n  popular: (page, type = 'movie') => {\n    return `https://api.themoviedb.org/3/${type}/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${page}&include_adult=false`;\n  },\n  image: function (link, w500 = false) {\n    if (w500 === true) {\n      return `https://image.tmdb.org/t/p/w500${link}`;\n    }\n    return `https://image.tmdb.org/t/p/original/${link}`\n  },\n  movie: (id, type = 'movie') => {\n    return `https://api.themoviedb.org/3/${type}/${id}?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US`;\n    \n  },\n}\n//создаватель api\n\nexport default apiCreator;\n","'use strict';\n//отрисовка всех элементов\nimport promo from '../templates/promo.hbs';\n// import notFound from '../templates/notFound.hbs';\nimport refs from '../index.js';\nimport apiCreator from './apiCreator.js';\nlet apiData = {}; //объект со всеми данными по api(изменяется через showPromo())\n\n\n//промо фильма(вывод блока фильма)\n// принимает как параметр api, который нужно отрисовать(передается через filmSearcher, showPopular)\n// на втором шаге записывает данные апи в переменную apiData для проверки лоад мором кол-ва страниц, затем, если ничего не будет найдено, то вернет (undefined),если же все будет нормально, то вернет массив результатов\n\n// на втором шаге, если результаты будут равны undefined,то станет видимой блок с текстом ('ничего не найдено') и промис вернет null(чтобы catch не жаловалось)\n// если же все будет нормально, то сначала скроется блок(ничего не найдено), потом пройзойдет отрисовка(через forEach)\n//данные по фильму будут записаны в объект filmData, затем произойдет проверка на то, фильм это или сериал(если film.title ==='undefined'(потому что в сериалах используется film.name))\n// если окажется, что сериал, то некоторые данные в filmData запишутся по другому(например title перейдет в name)\n\n//потом все фильмы инсертятся в блок с фильмами через модалку(promo)\n\n// после отрисовки в рефсы добавляются псевдомассив со всеми блоками с фильмами и их кнопки(для получения детальной инфы по фильму)\nconst showPromo = (api) => {\n  fetch(api)\n    .then(response => response.json())\n    .then(data => {\n      apiData = data;\n      if (data.total_pages === 0 || data.hasOwnProperty('errors')) {\n        return undefined; // для вывода сообщения('ничего не найдено')\n      }\n\n      return data.results;\n    })\n    .then(results => {\n      //вывод сообщения notFound\n      if (results === undefined) {\n        refs.not_found_block.style.display = 'block';\n        refs.load_more_btn.style.display = 'none';\n        return null; //чтобы catch не жаловалось\n      }\n      //удаление сообщения notFound при новом поиске\n      refs.not_found_block.style.display = 'none';\n      //\n\n\n      results.forEach(film => {\n        //вставка тегов с фильмами\n\n        const filmData = {\n          filmImgLink: apiCreator.image(film.poster_path, true),\n          filmVote: film.vote_average,\n          filmTitle: film.title,\n          filmId: film.id\n        };\n        if (film.title === undefined) {\n          filmData.filmTitle = film.name;\n        }\n        if (film.poster_path === null) {\n          filmData.filmImgLink = 'https://seor.ua/media/img/default-image.jpg';\n        }\n        refs.films_block.insertAdjacentHTML('beforeend', promo(filmData));\n      })\n      refs.film_promo = document.querySelectorAll('.film_promo');\n      refs.film_promo_btn = document.querySelectorAll('.film_promo_btn');\n\n    }).catch(err => console.log('err ' + err));\n}\n//промо фильма\n\nexport {\n  apiData,\n  showPromo\n};\n","import refs from '../index.js';\nimport filmPopular from './filmPopular.js';\n\nlet typeOfFilm = 'movie';//по умолчанию(сериал либо фильм)\n// переключалка между фильмами\n// сначала проверяется  переменная typeOfFilm, если она будет (movie), то текст изменится на (switch to shows), и на оборот для сериалов. точно также изменится надпись на инпуте формы для поиска\n//затем изменяется typeOfFilm для использования в других функциях для отрисовки\n// в конце вызывается функция (filmPopular) для первоначальной отрисовки фильмов либо сериалов\nconst switcher = (event) =>{\n    if(typeOfFilm === 'movie'){\n        event.target.textContent = 'switch to movies';\n        refs.film_search_form.firstElementChild.placeholder = 'search for tv shows';\n        typeOfFilm = 'tv';\n    }else{\n        event.target.textContent = 'switch to tv shows';\n        refs.film_search_form.firstElementChild.placeholder = 'search for movies';\n        typeOfFilm = 'movie';\n    }\n    filmPopular(null);//null что-бы не сработала проверка на андефайнд\n}\n\nexport {switcher, typeOfFilm};","'use strict';\nimport refs from '../index.js';\nimport {showPromo} from './showPromo.js';\nimport {page, loadMoreReset} from './loadMore.js';\nimport apiCreator from './apiCreator.js';\nimport {typeOfFilm} from './switcher.js';\n\n//выводит популярные фильмы\n// если функция сработала как коллбек(на кнопке home), то ресетится кнопка лоад мор и в кач-ве функции для нее передается filmPopular (также удаляется текст в форме)\n//потом  активируется функция showPromo с параметром(api) apicreator в который передается страница из лоад мора и тип фильма из свитчера(переключалка между фильмами и сериалами)\nconst filmPopular = (event) => {\n  if (event !== undefined) {\n    loadMoreReset(filmPopular);\n    refs.film_search_form.firstElementChild.value = '';\n  }\n  showPromo(apiCreator.popular(page, typeOfFilm));\n}\nexport default filmPopular;\n","'use strict';\nimport refs from '../index.js';\nimport filmPopular from './filmPopular.js';\nimport {\n  apiData\n} from './showPromo.js';\nimport {searchQuery} from './filmSearcher.js';\n\n\nlet page = 1; // страница, которая будет отрисовываться через api\nlet apiFunc = filmPopular; // переменная, в которую закидывается ссылка на функцию, которую должна выполнить кнопка load_more_btn(filmPopular по умолчанию т.к. она выполняется первой)\n\n// лоад мор: плюсует страницу,чтобы получить ту, которую нужно отрисовывать\n// если страница будет больше общего кол-ва страниц, или будут ощшибки, то кнопка пропадет(((не работает)))\n// далее вызывает функцию, записаную лоад мор ресетом с параметрами(undefined, searchQuery), эти параметры нужны только в случае с функцией filmSearcher, но showPopular они не мешают, поэтому не делал проверку\nconst loadMore = () => {\n  page += 1;\n  if (page >= apiData.total_pages || apiData.hasOwnProperty('errors')) {\n    refs.load_more_btn.style.display = 'none';\n  }\n  apiFunc(undefined, searchQuery);// аргументы нужны только filmSearcher, но они не мешают showPopular\n  return page;\n}\n\n\n// ресет лоад мора: сначала изменяет page на 1, потом делает видимой кнопку лоад мор, записывает исполняемую функцию в apiFunc(loadMore,filmSearcher) для функции лоад мор\n// если в apiData(данные по апи из showPromo) общее кол-во результатов не равно 0 и не имеет ошибок,то удаляет все прошлые промо, которые отображались на сайте\nconst loadMoreReset = (func) => {\n  page = 1;\n  refs.load_more_btn.style.display = 'block';\n  apiFunc = func;\n  //проверка на то, есть ли теги с фильмами в dom\n  if (apiData.total_results !== 0 && !apiData.hasOwnProperty('errors')) {\n    refs.film_promo.forEach(promo => {\n      refs.films_block.removeChild(promo);\n    });\n  }\n  //\n}\n\n\nexport {\n  loadMore,\n  page,\n  loadMoreReset\n};\n","'use strict';\nimport {\n  page,\n  loadMoreReset \n} from './loadMore.js';\nimport refs from '../index.js';\nimport {\n  showPromo\n} from './showPromo.js';\nimport apiCreator from './apiCreator.js';\nimport {typeOfFilm} from './switcher.js';\n\n\nlet searchQuery = '';//вывожу эту переменную, чтобы при изменении текста в поле ввода могло корректно действовать событие loadMore\n\n\n// если функция сработала как колбек(на сабмите формы), то ресетится лоад мор и в кач-ве функции для нее передается filmSearcher\n//также сохраняю текст написанный в форме в переменную searchQuery, на случай, если пользователь после функции решит удалить из нее текст(тогда лоад мор будет работать некорректно)\n// лоад мор потом подставляет как текст для поиска ту переменную в параметр функции query, а в event - undefined\nconst filmSearcher = (event, query = refs.film_search_form.firstElementChild.value) => {\n  if (event !== undefined) {\n    loadMoreReset(filmSearcher);\n    event.preventdefault;\n  }\n  showPromo(apiCreator.search(page, query, typeOfFilm));\n  return searchQuery = query;\n}\n\nexport {filmSearcher, searchQuery};\n","'use strict';\n//сохранялочка айдишников любимых фильмов и сериалов(callback), передпл аргументы так: ((((addEventListener('click',()=> addTofavorites(аргумнты)))))\nimport refs from '../index.js'\n\n//let - что-бы локал сторедж мог их заменять\n\nlet favoriteMovies = [];\nlet favoriteShows = [];\n// сначала происходит проверка на данные в локал сторедже и запись данных оттуда в переменные\nif (localStorage.getItem('favoriteMovies') !== null) {\n  favoriteMovies = localStorage.getItem(\"favoriteMovies\").split(',');\n};\nif (localStorage.getItem('favoriteShows') !== null) {\n  favoriteShows = localStorage.getItem(\"favoriteShows\").split(',');\n}\nconsole.log('favoriteShows :', favoriteShows);\nconsole.log('favoriteMovies :', favoriteMovies);\n\n// функция, которая добавляет, или удаляет фильм(сериал), в зависимости от того есть ли он в массиве(если есть, то удаляет), так сделано для того, чтобы удалять фильм(сериал) через ту же кнопку\n\n//сначала происходит проверка на тип(сериал,фильм), затем либо удаляется элемент, либо записывается\nconst favoritesManipulator = (id, type) => {\n  //фильмы\n  if (type === 'movie') {\n    if (!favoriteMovies.includes(id)) {\n      favoriteMovies.push(id);\n    } else {\n      favoriteMovies.splice(favoriteMovies.indexOf(id), 1);\n    }\n    localStorage.setItem('favoriteMovies', `${favoriteMovies.join(',')}`)\n    //сериалы\n  } else if(type === 'tv') {\n    if (!favoriteShows.includes(id)) {\n      favoriteShows.push(id);\n      // console.log('localStorage.getItem :', localStorage.getItem('favoriteShows'));\n    } else {\n      favoriteShows.splice(favoriteShows.indexOf(id), 1);\n    }\n    localStorage.setItem('favoriteShows', `${favoriteShows.join(',')}`);\n  }\n  favoriteShows = [];\n}\n\n\nexport {favoritesManipulator,favoriteMovies,favoriteShows};\n","'use strict';\nimport refs from '../index.js';\nimport apiCreator from './apiCreator.js';\nimport modal from '../templates/modal.hbs';\nimport {\n  typeOfFilm\n} from './switcher.js';\nimport {\n  favoritesManipulator,\n  favoriteShows,\n  favoriteMovies\n} from './userFavorites.js';\n\nconst closeModal = (event) => {\n  if (event.target.className === 'modal_background' || event.target.className === 'modal_cross') { //(.modal_cross - крестик в углу(в дом не добавлял))\n    refs.wrapper.removeChild(refs.modal_background);\n    refs.body.style.overflow = '';\n  }\n}\n//тут пока все очень сложно изз-за того, что еще плохо приписал сss\nconst showModal = (event) => {\n  if (event.target.className === 'film_promo_btn') {\n    //отрисовка модалки\n    fetch(apiCreator.movie(event.target.id, typeOfFilm))\n      .then(response => response.json())\n      .then(data => {\n\n        const filmData = {\n          filmImgLink: apiCreator.image(data.poster_path),\n          filmTitle: data.title,\n          filmOverview: data.overview,\n          filmGenres: data.genres.map(genre => genre.name).join(', '),\n          filmVote: data.vote_average,\n          genresWord: 'Genres:',\n        }\n        if (data.title === undefined) {\n          filmData.filmTitle = data.name;\n        }\n        if (data.poster_path === null) {\n          filmData.filmImgLink = 'https://seor.ua/media/img/default-image.jpg';\n        }\n        if (data.genres.length === 0) {\n          filmData.filmGenres = \"\";\n          filmData.genresWord = '';\n        }\n\n        refs.wrapper.insertAdjacentHTML('beforeend', modal(filmData));\n        refs.modal_block = document.querySelector('.modal_block');\n        refs.add_to_favorites_btn = document.querySelector('.add_to_favorites_btn');\n        //для закрытия\n        refs.modal_background = document.querySelector('.modal_background');\n        // [...refs.modal_background].forEach(modal => modal.addEventListener('click',closeModal))\n        refs.modal_background.addEventListener('click', closeModal);\n        //для закрытия\n        console.log('event.target.id :', );\n        refs.add_to_favorites_btn.addEventListener('click', () => favoritesManipulator(event.target.id, typeOfFilm)); //не мог сделать через колбек, т.к. нужно было передать параметры\n        //изменяю текст кнопки добавления в коллекцию\n        if ((typeOfFilm === 'movie' && favoriteMovies.includes(event.target.id)) || (typeOfFilm === 'tv' && favoriteShows.includes(event.target.id))) {\n          refs.add_to_favorites_btn.textContent = 'remove from favorites';\n        }\n\n        refs.body.style.overflow = 'hidden';\n      }).catch(err => console.log('err :', err));\n    //\n  }\n}\n\nexport default showModal;\n","'use strict';\n\nimport promo from '../templates/promo.hbs';\nimport refs from '../index.js';\nimport apiCreator from './apiCreator.js';\nimport {\n  favoriteMovies,\n  favoriteShows\n} from './userFavorites';\nimport {\n  typeOfFilm\n} from './switcher.js';\n\n// функция показа любимых фильмов(не добавлял кнопку лоад мор)\n\n// сначала скрывает кнопку лоад мор и блок (не найдено)\n// затем создает локальную переменную moviesArr в которую, в зависимости от того, на сайте с сериалами или фильмами пользователь, запихивает туда соответствующий массив\n\n// затем происходит проверка на то, есть ли промо на сайте(чтобы потом стереть все промо)\n//затем идет проверка на то, есть ли в массиве данные(если нет, то начинает отображаться блок(ничего не найдено) и стопится выполнение функции)\n\n// после происходит forEach для массива moviesArr и через промис с апи (fetch) для каждого айдишника все отрисовывается на странице как в showPromo\n\n//(((пришлось только искать dom сразу в промисе, дальше в функции они не хотят искатся(ничего не находят))))\nconst showFavorites = (event) => {\n\n  refs.load_more_btn.style.display = 'none';\n  refs.not_found_block.style.display = 'none';\n\n  let moviesArr = [];\n  if (typeOfFilm === 'movie') {\n    moviesArr = favoriteMovies;\n  } else if (typeOfFilm === 'tv') {\n    moviesArr = favoriteShows;\n  }\n  //\n  if(refs.film_promo.length > 0){\n    refs.film_promo.forEach(promo => {\n      refs.films_block.removeChild(promo);\n    });\n  }\n\n  if(moviesArr.length === 0){\n      refs.not_found_block.style.display = 'block';\n      return;  \n  }\n\n  moviesArr.forEach(film => {\n    fetch(apiCreator.movie(film, typeOfFilm))\n      .then(response => response.json())\n      .then(film => {\n        const filmData = {\n          filmImgLink: apiCreator.image(film.poster_path, true),\n          filmVote: film.vote_average,\n          filmTitle: film.title,\n          filmId: film.id\n        };\n        if (film.title === undefined) {\n          filmData.filmTitle = film.name;\n        }\n        if (film.poster_path === null) {\n          filmData.filmImgLink = 'https://seor.ua/media/img/default-image.jpg';\n        }\n        refs.films_block.insertAdjacentHTML('afterbegin', promo(filmData));\n        refs.film_promo = document.querySelectorAll('.film_promo');\n        refs.film_promo_btn = document.querySelectorAll('.film_promo_btn');\n\n      }).catch(err => console.log('err '+ err));\n  });\n  // в конце функции не работает добавление элементов в рефс( как выполнить это только после промиса?)\n\n  // refs.film_promo = document.querySelectorAll('.film_promo');\n  // refs.film_promo_btn = document.querySelectorAll('.film_promo_btn');\n\n}\nexport default showFavorites;\n","'use strict';\nimport './styles.css';\n\n//через прочерк я отмечаю теги, которые добавляются через функции\nconst refs = {\n  films_block: document.querySelector('#films_block'),\n  film_search_form: document.querySelector('#film_search_form'),\n  home_btn: document.querySelector('#home_btn'),\n  not_found_block:document.querySelector('.not_found_block'),\n  wrapper:document.querySelector('#wrapper'),\n  // film_promo_btn:('.film_promo_btn'),//(добавляется через showPromo)\n  // film_promo('.film_promo'), (добавляется через showPromo)\n  //modal_block('.modal_block) (добавляется через showModal)\n  //modal_cross('.modal_cross)\n  //body\n  load_more_btn: document.querySelector('#load_more'),\n  theme_toggle_btn: document.querySelector('#theme_toggle_btn'),\n  switch_btn: document.querySelector('#switch_btn'),//переключалка между сериалами и фильмами\n  show_favorites_btn:document.querySelector('#show_favorites_btn'),\n  body: document.querySelector('body'),\n};\n\n// в индекс.js просто дал всем кнопкам колбек функции и по умолчанию запускаю отрисовку популярных фильмов, ну и объявил рефсы\n\nexport default refs;\n\nimport {filmSearcher} from './scripts/filmSearcher.js';\n\nimport filmPopular from './scripts/filmPopular.js';\n\nimport showModal from './scripts/showModal.js';\n\nimport {loadMore} from './scripts/loadMore.js';\n\nimport {switcher} from './scripts/switcher.js';\n\nimport showFavorites from './scripts/showFavorites.js';\n\n\n\n// showFavorites()\n// import {themeToggler, themeDefault} from './scripts/themeToggler.js';\n//начальный запуск показа фильмов\nfilmPopular();\n//\n\n//ивент для формы\nrefs.film_search_form.addEventListener('submit', filmSearcher);\n//\n\n//ивент для показа модалки\nrefs.films_block.addEventListener('click',showModal);\n//\n\n//ивент для кнопки load more\nrefs.load_more_btn.addEventListener('click', loadMore);\n\n//ивент для кнопки home\nrefs.home_btn.addEventListener('click', filmPopular);\n\n//ивент для кнопки (theme_toggle_btn)\n\nrefs.show_favorites_btn.addEventListener('click',showFavorites);\n\n//ивент для переключалки \nrefs.switch_btn.addEventListener('click', switcher);\n\n\n\n\n// const scrollFunc = (event) =>{\n//   console.log('event :', pageYOffset + window.innerHeight);\n//   console.log('refs.wrapper.offsetHeight :', refs.body.offsetHeight);\n//   console.log('window.innerHeight :', window.innerHeight);\n  // console.log('pageYOffset - refs.wrapper.offsetHeight :',refs.wrapper.offsetHeight - pageYOffset);\n  // if(pageYOffset === '80%'){\n  //   console.log('yesss!!! :', );\n  // }\n  // // console.log('event.target :', event.target);\n  // refs.load_more_btn = pageYOffset + 'px';\n  // console.log('refs.load_more_btn :', refs.load_more_btn);\n// }\n\n// console.log('_.debounce :', windowdebounce);\n// window.addEventListener('scroll',debounce(loadMore,50));\n\n//экспорты\n\n\n\n// themeToggler();\n// themeDefault();\n// localStorage.setItem('theme','light');\n// if(localStorage.getItem('theme') === 'light'){\n//   localStorage.setItem('theme','dark');\n// }else{\n//   localStorage.setItem('theme','light');\n// }\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal_background\\\">\\n    <div class=\\\"modal_block\\\">\\n        <div class=\\\"modal_img_block\\\"><img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmImgLink\") || (depth0 != null ? lookupProperty(depth0,\"filmImgLink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmImgLink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":47},\"end\":{\"line\":3,\"column\":62}}}) : helper)))\n    + \"\\\" alt=\\\"No poster for this film\\\" class=\\\"modal_img\\\"><p class=\\\"modal_vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmVote\") || (depth0 != null ? lookupProperty(depth0,\"filmVote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmVote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":134},\"end\":{\"line\":3,\"column\":146}}}) : helper)))\n    + \"</p></div>\\n        <div class=\\\"modal_description_block\\\">\\n            <h3 class=\\\"modal_film_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmTitle\") || (depth0 != null ? lookupProperty(depth0,\"filmTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":54}}}) : helper)))\n    + \"</h3>\\n            <div class=\\\"modal_overview_block\\\">\\n                <p class=\\\"modal_overview_text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmOverview\") || (depth0 != null ? lookupProperty(depth0,\"filmOverview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmOverview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":47},\"end\":{\"line\":8,\"column\":63}}}) : helper)))\n    + \"</p>\\n            </div>\\n            <div class=\\\"modal_details_block\\\">\\n                <table class=\\\"modal_table\\\">\\n                    <tr>\\n                        <th>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genresWord\") || (depth0 != null ? lookupProperty(depth0,\"genresWord\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genresWord\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":28},\"end\":{\"line\":14,\"column\":42}}}) : helper)))\n    + \"</th>\\n                        <th>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmGenres\") || (depth0 != null ? lookupProperty(depth0,\"filmGenres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmGenres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":28},\"end\":{\"line\":15,\"column\":42}}}) : helper)))\n    + \"</th>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                </table>\\n            </div>\\n        </div>\\n        <button class=\\\"modal_cross\\\">X</button>\\n        <button class=\\\"add_to_favorites_btn\\\">like it</button>\\n    </div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}