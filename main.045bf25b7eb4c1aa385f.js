(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9XDZ":function(e,t,o){var n=o("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,n,l){var a,r=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,c=e.escapeExpression,m=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="film_promo">\n    <button class="promo_btn">\n        <img class="film_poster" src="https://image.tmdb.org/t/p/w500'+c("function"==typeof(a=null!=(a=m(o,"filmImgLink")||(null!=t?m(t,"filmImgLink"):t))?a:i)?a.call(r,{name:"filmImgLink",hash:{},data:l,loc:{start:{line:3,column:69},end:{line:3,column:84}}}):a)+'" alt="No poster for this film">\n        <p class="film_vote">'+c("function"==typeof(a=null!=(a=m(o,"filmVote")||(null!=t?m(t,"filmVote"):t))?a:i)?a.call(r,{name:"filmVote",hash:{},data:l,loc:{start:{line:4,column:29},end:{line:4,column:41}}}):a)+'</p>\n        <p class="film_title">'+c("function"==typeof(a=null!=(a=m(o,"filmTitle")||(null!=t?m(t,"filmTitle"):t))?a:i)?a.call(r,{name:"filmTitle",hash:{},data:l,loc:{start:{line:5,column:30},end:{line:5,column:43}}}):a)+"</p>\n    </button>\n</div>\n"},useData:!0})},L1EO:function(e,t,o){},QfWi:function(e,t,o){"use strict";o.r(t);o("L1EO"),o("RtS0"),o("Muwe"),o("X5mX"),o("3dw1");var n={search:function(e,t){return"https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e+"&include_adult=false&query="+t},popular:function(e){return"https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e},image:function(e,t){return void 0===t&&(t=!1),!0===t?"https://image.tmdb.org/t/p/w500/"+e:"https://image.tmdb.org/t/p/original/"+e},movie:function(e){return"https://api.themoviedb.org/3/movie/"+e+"?api_key=e9f6322f77334e3f0406d6b8eabd79ce"}},l=(o("JBxO"),o("FdtR"),o("9XDZ")),a=o.n(l),r={},i=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){return r=e,e.results})).then((function(e){e.forEach((function(e){var t={filmImgLink:e.poster_path,filmVote:e.vote_average,filmTitle:e.title};p.films_block.insertAdjacentHTML("beforeend",a()(t)),p.film_promo=document.querySelectorAll(".film_promo")}))})).catch((function(e){return console.log("err "+e)}))},c=1,m={},s=function(){n.popular(1),i(n.popular(1))},f=function e(t){console.log("refs.film_promo :",p.film_promo),void 0!==t&&(t.preventdefault,c=1,p.load_more_btn.style.display="block",console.log("event.target :",t.target),m=e);var o=p.film_search_form.firstElementChild.value;0===r.total_results||r.hasOwnProperty("errors")||1!==c||p.film_promo.forEach((function(e){p.films_block.removeChild(e)})),i(n.search(c,o))},u={films_block:document.querySelector("#films_block"),film_search_form:document.querySelector("#film_search_form"),home_btn:document.querySelector("#home_btn"),load_more_btn:document.querySelector("#load_more")};u.load_more_btn.addEventListener("click",(function(){return console.log("page before :",c),c+=1,console.log("page after :",c),console.log("apiData.total_results :",r.total_pages),(c>=r.total_pages||r.hasOwnProperty("errors"))&&(p.load_more_btn.style.display="none"),m(),c})),s(),u.film_search_form.addEventListener("submit",f),u.home_btn.addEventListener("click",s);var p=t.default=u}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.045bf25b7eb4c1aa385f.js.map