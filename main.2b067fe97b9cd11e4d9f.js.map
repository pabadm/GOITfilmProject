{"version":3,"sources":["webpack:///./templates/promo.hbs","webpack:///./scripts/apiCreator.js","webpack:///./scripts/showPromo.js","webpack:///./scripts/switcher.js","webpack:///./scripts/filmPopular.js","webpack:///./scripts/loadMore.js","webpack:///./scripts/filmSearcher.js","webpack:///./scripts/userFavorites.js","webpack:///./scripts/showModal.js","webpack:///./index.js","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","apiCreator","search","page","query","type","popular","image","link","w500","movie","id","apiData","showPromo","api","fetch","then","response","json","total_pages","results","refs","not_found_block","style","display","undefined","load_more_btn","forEach","film","filmData","filmImgLink","poster_path","filmVote","vote_average","filmTitle","title","filmId","name","films_block","insertAdjacentHTML","promo","film_promo","document","querySelectorAll","film_promo_btn","catch","err","console","log","typeOfFilm","filmPopular","event","loadMoreReset","film_search_form","firstElementChild","value","apiFunc","func","preventdefault","total_results","removeChild","searchQuery","favoriteMovies","favoriteShows","localStorage","getItem","split","addToFavorites","includes","push","setItem","join","closeModal","target","className","wrapper","modal_background","body","overflow","showModal","filmOverview","overview","filmGenres","genres","map","genre","genresWord","length","modal","modal_block","querySelector","add_to_favorites_btn","addEventListener","home_btn","theme_toggle_btn","switch_btn","filmSearcher","textContent","placeholder","alias3"],"mappings":"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","file":"main.2b067fe97b9cd11e4d9f.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"film_promo\\\">\\n        <img class=\\\"film_poster\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmImgLink\") || (depth0 != null ? lookupProperty(depth0,\"filmImgLink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmImgLink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":53}}}) : helper)))\n    + \"\\\" alt=\\\"No poster for this film\\\">\\n        <p class=\\\"film_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmTitle\") || (depth0 != null ? lookupProperty(depth0,\"filmTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":30},\"end\":{\"line\":3,\"column\":43}}}) : helper)))\n    + \"</p>\\n        <p class=\\\"film_vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmVote\") || (depth0 != null ? lookupProperty(depth0,\"filmVote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmVote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":29},\"end\":{\"line\":4,\"column\":41}}}) : helper)))\n    + \"</p>\\n        <button class=\\\"film_promo_btn\\\" id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmId\") || (depth0 != null ? lookupProperty(depth0,\"filmId\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmId\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":43},\"end\":{\"line\":5,\"column\":53}}}) : helper)))\n    + \"\\\"></button>\\n</div>\";\n},\"useData\":true});","'use strict';\n\n\n\n\n//создаватель api(объект с функциями)(каждая возвращает ссылку на api)\n//type - сериалы либо фильмы\nconst apiCreator = {\n  search: (page, query, type = 'movie') => {\n    return `https://api.themoviedb.org/3/search/${type}?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${page}&include_adult=false&query=${query}`;\n  },\n  popular: (page, type = 'movie') => {\n    return `https://api.themoviedb.org/3/${type}/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${page}&include_adult=false`;\n  },\n  image: function (link, w500 = false) {\n    if (w500 === true) {\n      return `https://image.tmdb.org/t/p/w500${link}`;\n    }\n    return `https://image.tmdb.org/t/p/original/${link}`\n  },\n  movie: (id, type = 'movie') => {\n    return `https://api.themoviedb.org/3/${type}/${id}?api_key=e9f6322f77334e3f0406d6b8eabd79ce`;\n    \n  },\n}\n//создаватель api\n\nexport default apiCreator;\n","'use strict';\n//отрисовка всех элементов\nimport promo from '../templates/promo.hbs';\n// import notFound from '../templates/notFound.hbs';\nimport refs from '../index.js';\nimport apiCreator from './apiCreator.js';\nlet apiData = {}; //объект со всеми данными по api(изменяется через showPromo())\n\n\n//промо фильма(вывод блока фильма)\n\nconst showPromo = (api) => {\n  fetch(api)\n    .then(response => response.json())\n    .then(data => {\n      apiData = data;\n      if (data.total_pages === 0 || data.hasOwnProperty('errors')) {\n        return undefined; // для вывода сообщения('ничего не найдено')\n      }\n\n      return data.results;\n    })\n    .then(results => {\n      //удаление сообщения notFound при новом поиске\n      if(refs.not_found_block.style.display === 'block'){\n        refs.not_found_block.style.display = 'none';\n      }\n      //\n      //вывод сообщения notFound\n      if (results === undefined) {\n        refs.not_found_block.style.display = 'block';\n        refs.load_more_btn.style.display = 'none';\n        return null;//чтобы catch не жаловалось\n      } //вывод сообщения notFound\n      results.forEach(film => {\n        //вставка тегов с фильмами\n        \n        const filmData = {\n          filmImgLink: apiCreator.image(film.poster_path, true),\n          filmVote: film.vote_average,\n          filmTitle: film.title,\n          filmId: film.id\n        };\n        if(film.title === undefined){\n          filmData.filmTitle = film.name;\n        }\n        if(film.poster_path === null){\n          filmData.filmImgLink = 'https://seor.ua/media/img/default-image.jpg';\n        }\n        refs.films_block.insertAdjacentHTML('beforeend', promo(filmData));\n        refs.film_promo = document.querySelectorAll('.film_promo');\n        refs.film_promo_btn = document.querySelectorAll('.film_promo_btn');\n      })\n      \n    }).catch(err => console.log('err ' + err));\n}\n//промо фильма\n\nexport {\n  apiData,\n  showPromo\n};\n","import refs from '../index.js';\nimport filmPopular from './filmPopular.js';\n\nlet typeOfFilm = 'movie';//по умолчанию(сериал либо фильм)\n\nconst switcher = (event) =>{\n    if(typeOfFilm === 'movie'){\n        event.target.textContent = 'switch to movies';\n        refs.film_search_form.firstElementChild.placeholder = 'search for tv shows';\n        typeOfFilm = 'tv';\n    }else{\n        event.target.textContent = 'switch to tv shows';\n        refs.film_search_form.firstElementChild.placeholder = 'search for movies';\n        typeOfFilm = 'movie';\n    }\n    filmPopular(null);//null что-бы не сработала проверка на андефайнд\n}\n\nexport {switcher, typeOfFilm};","'use strict';\nimport refs from '../index.js';\nimport {showPromo} from './showPromo.js';\nimport {page, loadMoreReset} from './loadMore.js';\nimport apiCreator from './apiCreator.js';\nimport {typeOfFilm} from './switcher.js';\n\n//выводит популярные фильмы\n\nconst filmPopular = (event) => {\n  if (event !== undefined) {\n    loadMoreReset(filmPopular);\n    refs.film_search_form.firstElementChild.value = '';\n  }\n  showPromo(apiCreator.popular(page, typeOfFilm));\n}\nexport default filmPopular;\n","'use strict';\nimport refs from '../index.js';\nimport filmPopular from './filmPopular.js';\nimport {\n  apiData\n} from './showPromo.js';\nimport {searchQuery} from './filmSearcher.js';\n\n\n// в файле 3 функции((((((()))))))\n// loadMore - callback для load_more_btn\n//loadMoreReset - ресетит настройки, если отправлена форма или нажата кнопка home_btn(page становится 1 ) и передает функцию, которая будет выполнятся в loadMore (apFunc)\n//(((((())))))\n\n\n\nlet page = 1; // страница, которая будет отрисовываться через api\nlet apiFunc = filmPopular; // переменная, в которую закидывается ссылка на функцию, которую должна выполнить кнопка load_more_btn(filmPopular по умолчанию т.к. она выполняется первой)\n\n\nconst loadMore = () => {\n  page += 1;\n  if (page >= apiData.total_pages || apiData.hasOwnProperty('errors')) {\n    refs.load_more_btn.style.display = 'none';\n  }\n  console.log('page :', page);\n  apiFunc(undefined, searchQuery);// аргументы нужны только filmSearcher, но они не мешают showPopular\n  return page;\n}\n\n\n\nconst loadMoreReset = (func) => {\n  page = 1;\n  refs.load_more_btn.style.display = 'block';\n  event.preventdefault;\n  apiFunc = func;\n  //проверка на то, есть ли теги с фильмами в dom\n  if (apiData.total_results !== 0 && !apiData.hasOwnProperty('errors')) {\n    refs.film_promo.forEach(promo => {\n      refs.films_block.removeChild(promo);\n    });\n  }\n  //\n}\n\n\nexport {\n  loadMore,\n  page,\n  loadMoreReset\n};\n","'use strict';\nimport {\n  page,\n  loadMoreReset \n} from './loadMore.js';\nimport refs from '../index.js';\nimport {\n  showPromo\n} from './showPromo.js';\nimport apiCreator from './apiCreator.js';\nimport {typeOfFilm} from './switcher.js';\n\n\nlet searchQuery = '';//вывожу эту переменную, чтобы при изменении текста в поле ввода могло корректно действовать событие loadMore\n\nconst filmSearcher = (event, query = refs.film_search_form.firstElementChild.value) => {// query также может передавться из loadMore()\n  if (event !== undefined) {//функция используется не только как callback`\n    //   if(refs.film_search_form.firstElementChild.value === ''){\n    //   break;\n    // }\n    loadMoreReset(filmSearcher);\n    // if(refs.film_search_form.firstElementChild.value === ''){\n    //   break;\n    // }\n  }\n  showPromo(apiCreator.search(page, query, typeOfFilm));\n  return searchQuery = query;//для loadMore\n}\n\nexport {filmSearcher, searchQuery};\n","'use strict';\n\nimport refs from '../index.js'\n\n//let - что-бы локал сторедж мог их заменять\nlet favoriteMovies = [];\nlet favoriteShows = [];\n\nif (localStorage.getItem('favoriteMovies') !== null) {\n  favoriteMovies = localStorage.getItem(\"favoriteMovies\").split(',');\n};\nif (localStorage.getItem('favoriteShows') !== null) {\n  favoriteMovies = localStorage.getItem(\"favoriteShows\").split(',');\n}\nconsole.log('favoriteMovies :', favoriteMovies);\nconsole.log('favoriteShows :', favoriteShows);\n\nconst addToFavorites = (id, type) => {\n  console.log('work :', id);\n  if (type === 'movie') {\n    if (!favoriteMovies.includes(id)) {\n      favoriteMovies.push(id);\n      localStorage.setItem('favoriteMovies', `${favoriteMovies.join(',')}`)\n    }\n  } else {\n    if (!favoriteShows.includes(id)) {\n      favoriteShows.push(id);\n      localStorage.setItem('favoriteShows', `${favoriteShows.join(',')}`);\n      // console.log('localStorage.getItem :', localStorage.getItem('favoriteShows'));\n    }\n  }\n}\n\nexport default addToFavorites;\n","'use strict';\nimport refs from '../index.js';\nimport apiCreator from './apiCreator.js';\nimport modal from '../templates/modal.hbs';\nimport {typeOfFilm} from './switcher.js';\nimport addToFavorites from './userFavorites.js';\nconst closeModal = (event)=>{\n  if(event.target.className === 'modal_background' || event.target.className === 'modal_cross'){//(.modal_cross - крестик в углу(в дом не добавлял))\n    refs.wrapper.removeChild(refs.modal_background);\n    refs.body.style.overflow = '';\n  }\n}\n\nconst showModal = (event) => {\n  if (event.target.className === 'film_promo_btn') {\n    //отрисовка модалки\n    fetch(apiCreator.movie(event.target.id, typeOfFilm))\n      .then(response => response.json())\n      .then(data => {\n\n        const filmData = {\n            filmImgLink: apiCreator.image(data.poster_path),\n            filmTitle: data.title,\n            filmOverview: data.overview,\n            filmGenres: data.genres.map(genre => genre.name).join(', '),\n            filmVote:data.vote_average,\n            genresWord:'Genres:',\n        }\n        if(data.title === undefined){\n          filmData.filmTitle = data.name;\n        }\n        if(data.poster_path === null){\n          filmData.filmImgLink = 'https://seor.ua/media/img/default-image.jpg';\n        }\n        if(data.genres.length === 0){\n          filmData.filmGenres = \"\";\n          filmData.genresWord = '';\n        }\n\n        refs.wrapper.insertAdjacentHTML('beforeend', modal(filmData));\n        refs.modal_block = document.querySelector('.modal_block');\n        refs.body = document.querySelector('body');\n        refs.add_to_favorites_btn = document.querySelector('.add_to_favorites_btn');\n        //для закрытия\n        refs.modal_background = document.querySelector('.modal_background');\n\n        // [...refs.modal_background].forEach(modal => modal.addEventListener('click',closeModal))\n        refs.modal_background.addEventListener('click', closeModal);\n        //для закрытия\n        console.log('event.target.id :', );\n        refs.add_to_favorites_btn.addEventListener('click',() => addToFavorites(event.target.id,typeOfFilm));//не мог сделать по другому, уже заэкспортил(дефоулт)\n        refs.body.style.overflow = 'hidden';\n      }).catch(err => console.log('err :', err));\n    //\n  }\n}\n\nexport default showModal;\n","'use strict';\nimport './styles.css';\n\n//через прочерк я отмечаю теги, которые добавляются через функции\nconst refs = {\n  films_block: document.querySelector('#films_block'),\n  film_search_form: document.querySelector('#film_search_form'),\n  home_btn: document.querySelector('#home_btn'),\n  not_found_block:document.querySelector('.not_found_block'),\n  wrapper:document.querySelector('#wrapper'),\n  // film_promo_btn:('.film_promo_btn'),//(добавляется через showPromo)\n  // film_promo('.film_promo'), (добавляется через showPromo)\n  //modal_block('.modal_block) (добавляется через showModal)\n  //modal_cross('.modal_cross)\n  //body\n  load_more_btn: document.querySelector('#load_more'),\n  theme_toggle_btn: document.querySelector('#theme_toggle_btn'),\n  switch_btn: document.querySelector('#switch_btn'),//переключалка между сериалами и фильмами\n  body: document.querySelector('body'),\n};\nexport default refs;\n\nimport {filmSearcher} from './scripts/filmSearcher.js';\n\nimport filmPopular from './scripts/filmPopular.js';\n\nimport showModal from './scripts/showModal.js';\n\nimport {loadMore} from './scripts/loadMore.js';\n\nimport {switcher} from './scripts/switcher.js';\n\n// import {themeToggler, themeDefault} from './scripts/themeToggler.js';\n//начальный запуск показа фильмов\nfilmPopular();\n//\n\n//ивент для формы\nrefs.film_search_form.addEventListener('submit', filmSearcher);\n//\n\n//ивент для показа модалки\nrefs.films_block.addEventListener('click',showModal);\n//\n\n//ивент для кнопки load more\nrefs.load_more_btn.addEventListener('click', loadMore);\n\n//ивент для кнопки home\nrefs.home_btn.addEventListener('click', filmPopular);\n\n//ивент для кнопки (theme_toggle_btn)\n\n// refs.theme_toggle_btn.addEventListener('click',themeToggler);\n\n//ивент для переключалки \nrefs.switch_btn.addEventListener('click', switcher);\n\n// const scrollFunc = (event) =>{\n//   console.log('event :', pageYOffset + window.innerHeight);\n//   console.log('refs.wrapper.offsetHeight :', refs.body.offsetHeight);\n//   console.log('window.innerHeight :', window.innerHeight);\n  // console.log('pageYOffset - refs.wrapper.offsetHeight :',refs.wrapper.offsetHeight - pageYOffset);\n  // if(pageYOffset === '80%'){\n  //   console.log('yesss!!! :', );\n  // }\n  // // console.log('event.target :', event.target);\n  // refs.load_more_btn = pageYOffset + 'px';\n  // console.log('refs.load_more_btn :', refs.load_more_btn);\n// }\n\n// console.log('_.debounce :', windowdebounce);\n// window.addEventListener('scroll',debounce(loadMore,50));\n\n//экспорты\n\n\n\n// themeToggler();\n// themeDefault();\n// localStorage.setItem('theme','light');\nif(localStorage.getItem('theme') === 'light'){\n  localStorage.setItem('theme','dark');\n}else{\n  localStorage.setItem('theme','light');\n}\nconsole.log('localStorage.getItem() :', localStorage.getItem('theme'));\nconsole.log('localStorage :', localStorage);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal_background\\\">\\n    <div class=\\\"modal_block\\\">\\n        <div class=\\\"modal_img_block\\\"><img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmImgLink\") || (depth0 != null ? lookupProperty(depth0,\"filmImgLink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmImgLink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":47},\"end\":{\"line\":3,\"column\":62}}}) : helper)))\n    + \"\\\" alt=\\\"No poster for this film\\\" class=\\\"modal_img\\\"><p class=\\\"modal_vote\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmVote\") || (depth0 != null ? lookupProperty(depth0,\"filmVote\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmVote\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":134},\"end\":{\"line\":3,\"column\":146}}}) : helper)))\n    + \"</p></div>\\n        <div class=\\\"modal_description_block\\\">\\n            <h3 class=\\\"modal_film_title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmTitle\") || (depth0 != null ? lookupProperty(depth0,\"filmTitle\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmTitle\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":54}}}) : helper)))\n    + \"</h3>\\n            <div class=\\\"modal_overview_block\\\">\\n                <p class=\\\"modal_overview_text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmOverview\") || (depth0 != null ? lookupProperty(depth0,\"filmOverview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmOverview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":47},\"end\":{\"line\":8,\"column\":63}}}) : helper)))\n    + \"</p>\\n            </div>\\n            <div class=\\\"modal_details_block\\\">\\n                <table class=\\\"modal_table\\\">\\n                    <tr>\\n                        <th>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genresWord\") || (depth0 != null ? lookupProperty(depth0,\"genresWord\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genresWord\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":28},\"end\":{\"line\":14,\"column\":42}}}) : helper)))\n    + \"</th>\\n                        <th>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"filmGenres\") || (depth0 != null ? lookupProperty(depth0,\"filmGenres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filmGenres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":28},\"end\":{\"line\":15,\"column\":42}}}) : helper)))\n    + \"</th>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                    <tr>\\n                        <td></td>\\n                        <td></td>\\n                    </tr>\\n                </table>\\n            </div>\\n        </div>\\n        <button class=\\\"modal_cross\\\">X</button>\\n        <button class=\\\"add_to_favorites_btn\\\">like it</button>\\n    </div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}