(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9XDZ":function(e,l,t){var n=t("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,l,t,n,o){var a,i=null!=l?l:e.nullContext||{},r=e.hooks.helperMissing,m=e.escapeExpression,c=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<div class="film_promo">\n        <img class="film_poster" src="'+m("function"==typeof(a=null!=(a=c(t,"filmImgLink")||(null!=l?c(l,"filmImgLink"):l))?a:r)?a.call(i,{name:"filmImgLink",hash:{},data:o,loc:{start:{line:2,column:38},end:{line:2,column:53}}}):a)+'" alt="No poster for this film">\n        <p class="film_title">'+m("function"==typeof(a=null!=(a=c(t,"filmTitle")||(null!=l?c(l,"filmTitle"):l))?a:r)?a.call(i,{name:"filmTitle",hash:{},data:o,loc:{start:{line:3,column:30},end:{line:3,column:43}}}):a)+'</p>\n        <p class="film_vote">'+m("function"==typeof(a=null!=(a=c(t,"filmVote")||(null!=l?c(l,"filmVote"):l))?a:r)?a.call(i,{name:"filmVote",hash:{},data:o,loc:{start:{line:4,column:29},end:{line:4,column:41}}}):a)+'</p>\n        <button class="film_promo_btn" id="'+m("function"==typeof(a=null!=(a=c(t,"filmId")||(null!=l?c(l,"filmId"):l))?a:r)?a.call(i,{name:"filmId",hash:{},data:o,loc:{start:{line:5,column:43},end:{line:5,column:53}}}):a)+'"></button>\n</div>'},useData:!0})},L1EO:function(e,l,t){},QfWi:function(e,l,t){"use strict";t.r(l);t("L1EO"),t("Muwe"),t("X5mX"),t("RtS0"),t("3dw1"),t("JBxO"),t("FdtR");var n=t("9XDZ"),o=t.n(n),a={search:function(e,l){return"https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e+"&include_adult=false&query="+l},popular:function(e){return"https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e+"&include_adult=false"},image:function(e,l){return void 0===l&&(l=!1),!0===l?"https://image.tmdb.org/t/p/w500"+e:"https://image.tmdb.org/t/p/original/"+e},movie:function(e){return"https://api.themoviedb.org/3/movie/"+e+"?api_key=e9f6322f77334e3f0406d6b8eabd79ce"}},i={},r=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){if(i=e,0!==e.total_pages&&!e.hasOwnProperty("errors"))return e.results})).then((function(e){if("block"===v.not_found_block.style.display&&(v.not_found_block.style.display="none"),void 0===e)return v.not_found_block.style.display="block",v.load_more_btn.style.display="none",null;e.forEach((function(e){var l={filmImgLink:a.image(e.poster_path,!0),filmVote:e.vote_average,filmTitle:e.title,filmId:e.id};null===e.poster_path&&(console.log("filmData.filmImgLink :",e.poster_path),l.filmImgLink="https://seor.ua/media/img/default-image.jpg"),v.films_block.insertAdjacentHTML("beforeend",o()(l)),v.film_promo=document.querySelectorAll(".film_promo"),v.film_promo_btn=document.querySelectorAll(".film_promo_btn")}))})).catch((function(e){return console.log("err "+e)}))},m=function e(l){void 0!==l&&(d(e),v.film_search_form.firstElementChild.value=""),r(a.popular(c))},c=1,s=m,d=function(e){c=1,v.load_more_btn.style.display="block",event.preventdefault,s=e,0===i.total_results||i.hasOwnProperty("errors")||v.film_promo.forEach((function(e){v.films_block.removeChild(e)}))},u="",f=(t("D/wG"),t("s9S4")),p=t.n(f),_=function(e){"modal_background"!==e.target.className&&"modal_cross"!==e.target.className||(v.wrapper.removeChild(v.modal_background),v.body.style.overflow="")},g=function(e){"film_promo_btn"===e.target.className&&fetch(a.movie(e.target.id)).then((function(e){return e.json()})).then((function(e){var l={filmImgLink:a.image(e.poster_path),filmTitle:e.title,filmOverview:e.overview,filmGenres:e.genres[0].name,filmVote:e.vote_average};null===e.poster_path&&(console.log("filmData.filmImgLink :",e.poster_path),l.filmImgLink="https://seor.ua/media/img/default-image.jpg"),v.wrapper.insertAdjacentHTML("beforeend",p()(l)),v.modal_block=document.querySelector(".modal_block"),v.body=document.querySelector("body"),v.modal_background=document.querySelector(".modal_background"),v.modal_background.addEventListener("click",_),v.body.style.overflow="hidden"})).catch((function(e){return console.log("err :",e)}))},h="rgb(64, 69, 82)",b={films_block:document.querySelector("#films_block"),film_search_form:document.querySelector("#film_search_form"),home_btn:document.querySelector("#home_btn"),not_found_block:document.querySelector(".not_found_block"),wrapper:document.querySelector("#wrapper"),load_more_btn:document.querySelector("#load_more"),theme_toggle_btn:document.querySelector("#theme_toggle_btn")};m(),b.film_search_form.addEventListener("submit",(function e(l,t){return void 0===t&&(t=v.film_search_form.firstElementChild.value),void 0!==l&&d(e),r(a.search(c,t)),u=t})),b.films_block.addEventListener("click",g),b.load_more_btn.addEventListener("click",(function(){return((c+=1)>=i.total_pages||i.hasOwnProperty("errors"))&&(v.load_more_btn.style.display="none"),s(void 0,u),c})),b.home_btn.addEventListener("click",m),b.theme_toggle_btn.addEventListener("click",(function(e){null===h&&(h="rgb(64, 69, 82)"),console.log("background :",h),"rgb(64, 69, 82)"===h?h="rgb(255, 255, 255)":"rgb(255, 255, 255)"===h&&(h="rgb(64, 69, 82)"),v.films_block.style.backgroundColor=h,localStorage.setItem("background",""+h)}));var v=l.default=b;h=""!==localStorage.getItem("background")?localStorage.getItem("background"):"rgb(64, 69, 82)",v.films_block.style.backgroundColor=h},s9S4:function(e,l,t){var n=t("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,l,t,n,o){var a,i=null!=l?l:e.nullContext||{},r=e.hooks.helperMissing,m="function",c=e.escapeExpression,s=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<div class="modal_background">\n    <div class="modal_block">\n        <div class="modal_img_block"><img src="'+c(typeof(a=null!=(a=s(t,"filmImgLink")||(null!=l?s(l,"filmImgLink"):l))?a:r)===m?a.call(i,{name:"filmImgLink",hash:{},data:o,loc:{start:{line:3,column:47},end:{line:3,column:62}}}):a)+'" alt="No poster for this film" class="modal_img"><p class="modal_vote">'+c(typeof(a=null!=(a=s(t,"filmVote")||(null!=l?s(l,"filmVote"):l))?a:r)===m?a.call(i,{name:"filmVote",hash:{},data:o,loc:{start:{line:3,column:134},end:{line:3,column:146}}}):a)+'</p></div>\n        <div class="modal_description_block">\n            <h3 class="modal_film_title">'+c(typeof(a=null!=(a=s(t,"filmTitle")||(null!=l?s(l,"filmTitle"):l))?a:r)===m?a.call(i,{name:"filmTitle",hash:{},data:o,loc:{start:{line:6,column:41},end:{line:6,column:54}}}):a)+'</h3>\n            <div class="modal_overview_block">\n                <p class="modal_overview_text">'+c(typeof(a=null!=(a=s(t,"filmOverview")||(null!=l?s(l,"filmOverview"):l))?a:r)===m?a.call(i,{name:"filmOverview",hash:{},data:o,loc:{start:{line:8,column:47},end:{line:8,column:63}}}):a)+'</p>\n            </div>\n            <div class="modal_details_block">\n                <table class="modal_table">\n                    <tr>\n                        <th>Genres</th>\n                        <th>'+c(typeof(a=null!=(a=s(t,"filmGenres")||(null!=l?s(l,"filmGenres"):l))?a:r)===m?a.call(i,{name:"filmGenres",hash:{},data:o,loc:{start:{line:14,column:28},end:{line:14,column:42}}}):a)+'</th>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n        <button class="modal_cross">X</button>\n    </div>\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.53318641406249df365d.js.map