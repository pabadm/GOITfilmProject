(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9XDZ":function(e,t,o){var l=o("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,l,n){var i,a=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,m=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="film_promo">\n        <img class="film_poster" src="'+m("function"==typeof(i=null!=(i=c(o,"filmImgLink")||(null!=t?c(t,"filmImgLink"):t))?i:r)?i.call(a,{name:"filmImgLink",hash:{},data:n,loc:{start:{line:2,column:38},end:{line:2,column:53}}}):i)+'" alt="No poster for this film">\n        <p class="film_title">'+m("function"==typeof(i=null!=(i=c(o,"filmTitle")||(null!=t?c(t,"filmTitle"):t))?i:r)?i.call(a,{name:"filmTitle",hash:{},data:n,loc:{start:{line:3,column:30},end:{line:3,column:43}}}):i)+'</p>\n        <p class="film_vote">'+m("function"==typeof(i=null!=(i=c(o,"filmVote")||(null!=t?c(t,"filmVote"):t))?i:r)?i.call(a,{name:"filmVote",hash:{},data:n,loc:{start:{line:4,column:29},end:{line:4,column:41}}}):i)+'</p>\n        <button class="film_promo_btn" id="'+m("function"==typeof(i=null!=(i=c(o,"filmId")||(null!=t?c(t,"filmId"):t))?i:r)?i.call(a,{name:"filmId",hash:{},data:n,loc:{start:{line:5,column:43},end:{line:5,column:53}}}):i)+'"></button>\n</div>'},useData:!0})},L1EO:function(e,t,o){},QfWi:function(e,t,o){"use strict";o.r(t);o("L1EO"),o("Muwe"),o("X5mX"),o("RtS0"),o("3dw1"),o("D/wG"),o("JBxO"),o("FdtR");var l=o("9XDZ"),n=o.n(l),i={search:function(e,t,o){return void 0===o&&(o="movie"),"https://api.themoviedb.org/3/search/"+o+"?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e+"&include_adult=false&query="+t},popular:function(e,t){return void 0===t&&(t="movie"),"https://api.themoviedb.org/3/"+t+"/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+e+"&include_adult=false"},image:function(e,t){return void 0===t&&(t=!1),!0===t?"https://image.tmdb.org/t/p/w500"+e:"https://image.tmdb.org/t/p/original/"+e},movie:function(e,t){return void 0===t&&(t="movie"),"https://api.themoviedb.org/3/"+t+"/"+e+"?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US"}},a={},r=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){if(a=e,0!==e.total_pages&&!e.hasOwnProperty("errors"))return e.results})).then((function(e){if(void 0===e)return S.not_found_block.style.display="block",S.load_more_btn.style.display="none",null;S.not_found_block.style.display="none",e.forEach((function(e){var t={filmImgLink:i.image(e.poster_path,!0),filmVote:e.vote_average,filmTitle:e.title,filmId:e.id};void 0===e.title&&(t.filmTitle=e.name),null===e.poster_path&&(t.filmImgLink="https://seor.ua/media/img/default-image.jpg"),S.films_block.insertAdjacentHTML("beforeend",n()(t))})),S.film_promo=document.querySelectorAll(".film_promo"),S.film_promo_btn=document.querySelectorAll(".film_promo_btn")})).catch((function(e){return console.log("err "+e)}))},m="movie",c=function e(t){void 0!==t&&(f(e),S.film_search_form.firstElementChild.value=""),r(i.popular(s,m))},s=1,d=c,f=function(e){s=1,S.load_more_btn.style.display="block",d=e,0===a.total_results||a.hasOwnProperty("errors")||S.film_promo.forEach((function(e){S.films_block.removeChild(e)}))},u="",_=(o("IvQZ"),o("8cZI"),o("lmye"),o("4NM0"),o("s9S4")),p=o.n(_),v=(o("uQK7"),o("Xlt+"),[]),h=[];null!==localStorage.getItem("favoriteMovies")&&(v=JSON.parse(localStorage.getItem("favoriteMovies"))),null!==localStorage.getItem("favoriteShows")&&(h=JSON.parse(localStorage.getItem("favoriteShows"))),console.log("favoriteShows :",h),console.log("favoriteMovies :",v);var g=function(e){"modal_background"!==e.target.className&&"modal_cross"!==e.target.className||(S.wrapper.removeChild(S.modal_background),S.body.style.overflow="")},b=function(e){"film_promo_btn"===e.target.className&&fetch(i.movie(e.target.id,m)).then((function(e){return e.json()})).then((function(t){var o={filmImgLink:i.image(t.poster_path),filmTitle:t.title,filmOverview:t.overview,filmGenres:t.genres.map((function(e){return e.name})).join(", "),filmVote:t.vote_average,genresWord:"Genres:"};void 0===t.title&&(o.filmTitle=t.name),null===t.poster_path&&(o.filmImgLink="https://seor.ua/media/img/default-image.jpg"),0===t.genres.length&&(o.filmGenres="",o.genresWord=""),S.wrapper.insertAdjacentHTML("beforeend",p()(o)),S.modal_block=document.querySelector(".modal_block"),S.add_to_favorites_btn=document.querySelector(".add_to_favorites_btn"),S.modal_background=document.querySelector(".modal_background"),S.modal_background.addEventListener("click",g),console.log("event.target.id :"),S.add_to_favorites_btn.addEventListener("click",(function(){return t=e.target.id,"movie"===(o=m)?(v.includes(t)?v.splice(v.indexOf(t),1):v.push(t),localStorage.setItem("favoriteMovies",JSON.stringify(v))):"tv"===o&&(h.includes(t)?h.splice(h.indexOf(t),1):h.push(t),localStorage.setItem("favoriteShows",JSON.stringify(h))),void(h=[]);var t,o})),("movie"===m&&v.includes(e.target.id)||"tv"===m&&h.includes(e.target.id))&&(S.add_to_favorites_btn.textContent="remove from favorites"),S.body.style.overflow="hidden"})).catch((function(e){return console.log("err :",e)}))},y=function(e){S.load_more_btn.style.display="none",S.not_found_block.style.display="none";var t=[];"movie"===m?t=v:"tv"===m&&(t=h),S.film_promo.length>0&&S.film_promo.forEach((function(e){S.films_block.removeChild(e)})),console.log("favoriteMovies :",v),console.log("moviesArr :",t),0!==t.length?t.forEach((function(e){fetch(i.movie(e,m)).then((function(e){return e.json()})).then((function(e){var o={filmImgLink:i.image(e.poster_path,!0),filmVote:e.vote_average,filmTitle:e.title,filmId:e.id};void 0===e.title&&(o.filmTitle=e.name),null===e.poster_path&&(o.filmImgLink="https://seor.ua/media/img/default-image.jpg"),S.films_block.insertAdjacentHTML("afterbegin",n()(o)),t[t.length-1]===""+e.id&&(S.film_promo=document.querySelectorAll(".film_promo"),S.film_promo_btn=document.querySelectorAll(".film_promo_btn"),console.log("one time hooray"))})).catch((function(e){return console.log("err "+e)}))})):S.not_found_block.style.display="block"},k=o("Ji62"),w={films_block:document.querySelector("#films_block"),film_search_form:document.querySelector("#film_search_form"),home_btn:document.querySelector("#home_btn"),not_found_block:document.querySelector(".not_found_block"),wrapper:document.querySelector("#wrapper"),load_more_btn:document.querySelector("#load_more"),theme_toggle_btn:document.querySelector("#theme_toggle_btn"),switch_btn:document.querySelector("#switch_btn"),show_favorites_btn:document.querySelector("#show_favorites_btn"),body:document.querySelector("body")},S=t.default=w;c(),w.film_search_form.addEventListener("submit",(function e(t,o){return void 0===o&&(o=S.film_search_form.firstElementChild.value),void 0!==t&&(f(e),t.preventdefault),r(i.search(s,o,m)),u=o})),w.films_block.addEventListener("click",b),w.load_more_btn.addEventListener("click",(function(){return((s+=1)>=a.total_pages||a.hasOwnProperty("errors"))&&(S.load_more_btn.style.display="none"),d(void 0,u),s})),w.home_btn.addEventListener("click",c),w.show_favorites_btn.addEventListener("click",y),w.switch_btn.addEventListener("click",(function(e){"movie"===m?(e.target.textContent="switch to movies",S.film_search_form.firstElementChild.placeholder="search for tv shows",m="tv"):(e.target.textContent="switch to tv shows",S.film_search_form.firstElementChild.placeholder="search for movies",m="movie"),c(null)})),Object(k.addBackToTop)({diameter:100,backgroundColor:"rgb(255, 82, 82)",textColor:"#fff",scrollDuration:500})},s9S4:function(e,t,o){var l=o("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,t,o,l,n){var i,a=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,m="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal_background">\n    <div class="modal_block">\n        <div class="modal_img_block"><img src="'+c(typeof(i=null!=(i=s(o,"filmImgLink")||(null!=t?s(t,"filmImgLink"):t))?i:r)===m?i.call(a,{name:"filmImgLink",hash:{},data:n,loc:{start:{line:3,column:47},end:{line:3,column:62}}}):i)+'" alt="No poster for this film" class="modal_img"><p class="modal_vote">'+c(typeof(i=null!=(i=s(o,"filmVote")||(null!=t?s(t,"filmVote"):t))?i:r)===m?i.call(a,{name:"filmVote",hash:{},data:n,loc:{start:{line:3,column:134},end:{line:3,column:146}}}):i)+'</p></div>\n        <div class="modal_description_block">\n            <h3 class="modal_film_title">'+c(typeof(i=null!=(i=s(o,"filmTitle")||(null!=t?s(t,"filmTitle"):t))?i:r)===m?i.call(a,{name:"filmTitle",hash:{},data:n,loc:{start:{line:6,column:41},end:{line:6,column:54}}}):i)+'</h3>\n            <div class="modal_overview_block">\n                <p class="modal_overview_text">'+c(typeof(i=null!=(i=s(o,"filmOverview")||(null!=t?s(t,"filmOverview"):t))?i:r)===m?i.call(a,{name:"filmOverview",hash:{},data:n,loc:{start:{line:8,column:47},end:{line:8,column:63}}}):i)+'</p>\n            </div>\n            <div class="modal_details_block">\n                <table class="modal_table">\n                    <tr>\n                        <th>'+c(typeof(i=null!=(i=s(o,"genresWord")||(null!=t?s(t,"genresWord"):t))?i:r)===m?i.call(a,{name:"genresWord",hash:{},data:n,loc:{start:{line:14,column:28},end:{line:14,column:42}}}):i)+"</th>\n                        <th>"+c(typeof(i=null!=(i=s(o,"filmGenres")||(null!=t?s(t,"filmGenres"):t))?i:r)===m?i.call(a,{name:"filmGenres",hash:{},data:n,loc:{start:{line:15,column:28},end:{line:15,column:42}}}):i)+'</th>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n        <button class="modal_cross">X</button>\n        <button class="add_to_favorites_btn">like it</button>\n    </div>\n</div>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.66f6616f1db5b59f14db.js.map